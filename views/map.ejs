<div class="flex">
  <div>
    <h1><%= title %></h1>
  </div>
  <a class="copyBtn" href="#">
    <code id="hash" class="copyContent" data-tippy-content="SHA-256 hash of the map file" data-tocopy="<%= v.mapHash %>"><%= v.mapHash.slice(0, 8) %>...</code>
  </a>
</div>

<div class="map-container">
  <a href="/maps/<%= prevMap %>" class="arrow arrow-left">&#8592;</a>


  <% if (v.header.tilesetImage && v.tilesetSize > 0) { %>
  <canvas
    id="map-preview" height="420"
    data-tilesetimage="<%= v.header.tilesetImage %>"
    data-backgroundimage="<%= v.header.backgroundImage && v.bgSize > 0 ? v.header.backgroundImage : '' %>"
    data-backgroundcolor="rgb(<%= v.header.bgColorRed %>, <%= v.header.bgColorGreen %>, <%= v.header.bgColorBlue %>)"
    data-tilesize="<%= v.header.use64pxTiles === 1 ? 64 : 32 %>"
    data-mapwidth="<%= v.header.mapWidth %>"
    data-mapheight="<%= v.header.mapHeight %>"
    data-tiles='<%- JSON.stringify(v.map) %>'
    data-modifiers='<%- JSON.stringify(v.modifiers) %>'
    data-tilemodes='<%- JSON.stringify(v.tm) %>'
    data-camera='<%- JSON.stringify(v.camera) %>'>
  </canvas>
  <% } %>

  <a href="/maps/<%= nextMap %>" class="arrow arrow-right">&#8594;</a>
</div>

<div class="stats map-info">
  <%- include('map_info') %>
</div>
