<div class="flex">
  <div>
    <h1><%= title %></h1>
  </div>
</div>

<div class="stats">
  <div class="stats-container">
    <label>Live Server Overview</label>
    <div class="stat-item">
      <span>Active Servers</span>
      <span><%= stats.totalServers %></span>
    </div>
    <div class="stat-item">
      <span>Active Bots</span>
      <span><%= stats.totalBots %></span>
    </div>
    <div class="stat-item">
      <span>Online Players</span>
      <span><%= stats.totalPlayers %></span>
    </div>
    <div class="stat-item">
      <span>USGN Users Online</span>
      <span><%= stats.unrealSoftware %></span>
    </div>
    <div class="stat-item">
      <span>Steam Users Online</span>
      <span><%= stats.steam %></span>
    </div>
  </div>

  <div class="stats-container">
    <label>Most Popular Game Modes</label>
    <% stats.gamemodes.forEach(v => { %>
      <div class="stat-item">
        <span><%= ['Standard', 'Deathmatch', 'Team Deathmatch', 'Construction', 'Zombies!'][v.gm] || 'Unknown' %></span>
        <span><%= v.count %></span>
      </div>
    <% }) %>
  </div>

  <div class="stats-container">
    <label>Most Played Maps</label>
    <% stats.maps.forEach(v => { %>
      <div class="stat-item">
        <span><%= v.map %></span>
        <span><%= v.count %></span>
      </div>
    <% }) %>
  </div>
</div>

<div class="stats">
  <div class="stats-container">
    <label>Most Popular Server Locations</label>
    <% stats.locations.forEach(v => { %>
      <div class="stat-item">
        <span><%= v.country %></span>
        <span><%= v.count %></span>
      </div>
    <% }) %>
  </div>
  
  <div class="stats-container">
    <label>Most Popular Hosting Providers</label>
    <% stats.organizations.forEach(v => { %>
      <div class="stat-item">
        <span><%= v.org %></span>
        <span><%= v.count %></span>
      </div>
    <% }) %>
  </div>  

  <div class="stats-container">
    <label>Most Reliable Servers</label>
    <% stats.responses.forEach(v => { %>
      <div class="stat-item">
        <span><a href="/details/<%= v.addr %>"><%= v.data.name %></a></span>
        <span><%= v.data.ratio %>%</span>
      </div>
    <% }) %>
  </div>
</div>

<div class="stats">
  <div class="stats-container">
    <label>Server Performance Metrics</label>
    <div class="stat-item">
      <span>Service Uptime</span>
      <span><%= stats.uptime %></span>
    </div>
    <div class="stat-item">
      <span>Outbound Traffic</span>
      <span><%= stats.sentBytes %></span>
    </div>
    <div class="stat-item">
      <span>Inbound Traffic</span>
      <span><%= stats.recvBytes %></span>
    </div>
    <div class="stat-item">
      <span>Packets Sent</span>
      <span><%= stats.sentPackets %></span>
    </div>
    <div class="stat-item">
      <span>Packets Received</span>
      <span><%= stats.recvPackets %></span>
    </div>
  </div>

  <div class="stats-container">
    <label>Latest Leaderboard Updates</label>
    <% stats.leaderboards.forEach(v => { %>
      <div class="stat-item">
        <span><a href="/leaderboard/<%= v.addr %>"><%= v.name %></a></span>
        <span><%= timeAgo(v.ts) %></span>
      </div>
    <% }) %>
  </div>
</div>
